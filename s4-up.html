<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title></title>
<style>
    input:hover{
        color:hotpink;
    }  
</style>
<script></script>
</head>
<body>
    <h2>오디오 재생</h2>
    <hr>
    <p>듣고 싶은 곡은 선택하고 시작 버튼을 누르면 연속하여 자동 연주합니다.</p>
    <audio id="audio" src="" onended="next(event)" controls></audio>
    <form>
        <label><input type="checkbox" name="list" value="./애국가.mp3"><span>애국가</span></label><br>
        <label><input type="checkbox" name="list" value="./MOMOLAND (모모랜드) _ BBoom BBoom (뿜뿜).mp3"><span>뿜뿜</span></label><br>
        <label><input type="checkbox" name="list" value="./KCM - 사랑과 우정사이.mp3"><span>사랑과 우정사이</span></label><br>
        <label><input type="checkbox" name="list" value="./모모랜드-baam.mp3"><span>baam</span></label><br>  
        <input type="button" onclick="init(event)" value="연주시작">
    </form>   
    <script>
        var audio;
        var idx;
        var listArray;
        var inputList;
        var spanList;
        function init(){
            audio = document.getElementById("audio");
            idx=0;
            listArray = new Array();
            inputList = document.getElementsByName("list");
            spanList = document.getElementsByTagName("span");


            titleColor();
            for(var i=0;i<inputList.length;i++){
                if(inputList[i].checked){
                    listArray.push(inputList[i].value);  
                    spanList[i].style.color="hotpink";
                }
            }

            if(listArray.length == 0){
                alert('곡을 선택해주세요.');return;
            }
            else
                audio.src = listArray[idx];

            play();
        }        
        function next(){
            if(idx < listArray.length - 1)
                idx++;
            else
                idx=0;

            audio.src = listArray[idx];
            play();
        }
        function play(){
            audio.play();
        }
        function titleColor(){            
            for(var i=0;i<spanList.length;i++)
                spanList[i].style.color="black";                
        }
    </script>
</body>
</html>
